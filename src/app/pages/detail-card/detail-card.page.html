<ion-content>
  <div class="detail-container" *ngIf="producto">
    <!-- Sección de imagen -->
    <div class="image-section" [style.--dominant-color]="dominantColor" [style.--secondary-color]="secondaryColor">
      <img [src]="currentImage" [alt]="producto.Nom_producto" class="product-image"/>
    </div>

    <!-- Sección de información -->
    <div class="info-section">
      <!-- Encabezado del producto -->
      <div class="product-header">
        <ion-item color="transparent">
          <ion-text class="product-title">{{ producto.Nom_producto }}</ion-text>
        </ion-item>
        
        <!-- Estado, Categoría y Calidad -->
        <div class="chips-container">
          <ion-chip class="status-chip">
            <ion-label>Estado: {{ producto.Estado }}</ion-label>
          </ion-chip>
          <ion-chip class="status-chip">
            <ion-label>Categoría: {{ producto.Categoria }}</ion-label>
          </ion-chip>
          <ion-chip class="status-chip">
            <ion-label>Calidad: {{ producto.Calidad || 'No especificada' }}</ion-label>
          </ion-chip>
        </div>

        <!-- Detalles adicionales -->
        <div class="details-grid">
          <ion-item>
            <ion-label>
              <h2>Municipio:</h2>
              <p>{{ producto.Municipio || 'No especificado' }}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Cantidad:</h2>
              <p>{{ producto.Cantidad || 0 }}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Código Postal:</h2>
              <p>{{ producto.Codigo_postal || 'No especificado' }}</p>
            </ion-label>
          </ion-item>
        </div>

        <!-- Información del donante -->
        <div class="donor-info">
          <div class="donor-details">
            <img [src]="getImagenUsuario()" [alt]="getNombreUsuario()" class="donor-avatar"/>
            <span class="donor-name">{{ getNombreUsuario() }}</span>
          </div>
          <ion-button class="whatsapp-btn" (click)="abrirWhatsApp()">
            <ion-icon name="logo-whatsapp"></ion-icon>
          </ion-button>
        </div>

        <!-- Descripción -->
        <div class="description">
          <h3>Descripción:</h3>
          <p>{{ producto.Descripcion }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Mensaje si no hay producto -->
  <div class="no-product" *ngIf="!producto">
    <p>No se encontró información del producto</p>
  </div>
</ion-content>
